<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:skillBreakdown="clr-namespace:StarResonanceDpsAnalysis.WPF.Controls.SkillBreakdown"
                    xmlns:lex="http://wpflocalizeextension.codeplex.com"
                    xmlns:oxy="http://oxyplot.org/wpf">
    <Style TargetType="skillBreakdown:ChartPanel">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="skillBreakdown:ChartPanel">
                    <StackPanel>
                        <Border Style="{StaticResource ChartCardBorder}">
                            <StackPanel>
                                <Grid Margin="0,0,0,16">
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                        <Path
                                            Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"
                                            Fill="#4C83FF"
                                            Style="{StaticResource ChartIcon}" />
                                        <TextBlock Style="{StaticResource ChartTitle}" Text="{Binding ChartTitle, RelativeSource={RelativeSource TemplatedParent}}" />
                                    </StackPanel>
                                    <StackPanel
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Orientation="Horizontal">
                                        <Button
                                            Width="24"
                                            Height="24"
                                            Margin="2,0"
                                            Command="{Binding ZoomResetCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                            Content="?"
                                            Style="{StaticResource AntButtonStyle}"
                                            ToolTip="{lex:Loc Key=SkillBreakdown_Tooltip_ResetZoom}" />
                                        <Button
                                            Width="24"
                                            Height="24"
                                            Margin="2,0"
                                            Command="{Binding ZoomOutCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                            Content="-"
                                            Style="{StaticResource AntButtonStyle}" />
                                        <Button
                                            Width="24"
                                            Height="24"
                                            Margin="2,0"
                                            Command="{Binding ZoomInCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                            Content="+"
                                            Style="{StaticResource AntButtonStyle}" />
                                    </StackPanel>
                                </Grid>
                                <oxy:PlotView Height="200" Model="{Binding SeriesPlotModel, RelativeSource={RelativeSource TemplatedParent}}" />
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource ChartCardBorder}">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,12" Orientation="Horizontal">
                                    <Path
                                        Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 2.05c3.95.23 7.18 3.25 7.75 7.15h-7.75V4.05zM11 19.95c-3.95-.23-7.18-3.25-7.75-7.15h7.75v7.15zm-1-8.15H2.25c.57-3.9 3.8-6.92 7.75-7.15v7.15z"
                                        Fill="#738192"
                                        Style="{StaticResource ChartIcon}" />
                                    <TextBlock Style="{StaticResource ChartTitle}" Text="{TemplateBinding PieChartTitle}" />
                                </StackPanel>
                                <oxy:PlotView Height="200" Model="{Binding PiePlotModel}" />
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource ChartCardBorder}">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,16" Orientation="Horizontal">
                                    <Path
                                        Data="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8h2.8v6h-2.8z"
                                        Fill="#738192"
                                        Style="{StaticResource ChartIcon}" />
                                    <TextBlock Style="{StaticResource ChartTitle}" Text="{TemplateBinding HitTypeChartTitle}" />
                                </StackPanel>

                                <StackPanel Margin="0,8">
                                    <Grid Margin="0,0,0,16">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#64748B">
                                                <Run Text="{lex:Loc Key=Common_HitType_Lucky}" />
                                                <Run Text=" (" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text="{lex:Loc Key=SkillBreakdown_Suffix_Lucky}" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text=")" FontSize="12" Foreground="#94A3B8" />
                                            </TextBlock>
                                            <TextBlock Grid.Column="1" FontSize="13" FontWeight="Bold" Foreground="#1E293B">
                                                <Run Text="{Binding LuckyCount, StringFormat={}{0:N0}, RelativeSource={RelativeSource TemplatedParent}}" />
                                                <Run Text=" (" Foreground="#64748B" />
                                                <Run Text="{Binding LuckyRate, StringFormat={}{0:P1}, RelativeSource={RelativeSource TemplatedParent}}" Foreground="#FACC15" />
                                                <Run Text=")" Foreground="#64748B" />
                                            </TextBlock>
                                        </Grid>
                                        <Grid Grid.Row="1" Height="8">
                                            <Border Background="#F1F5F9" CornerRadius="4" />
                                            <Border Background="#FACC15" CornerRadius="4" HorizontalAlignment="Left">
                                                <Border.Width>
                                                    <MultiBinding Converter="{StaticResource RateToWidthConverter}">
                                                        <Binding Path="LuckyRate" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=Grid, AncestorLevel=1}"  />
                                                    </MultiBinding>
                                                </Border.Width>
                                            </Border>
                                        </Grid>
                                    </Grid>

                                    <Grid Margin="0,0,0,16">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#64748B">
                                                <Run Text="{lex:Loc Key=Common_HitType_Critical}" />
                                                <Run Text=" (" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text="{lex:Loc Key=SkillBreakdown_Suffix_Crits}" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text=")" FontSize="12" Foreground="#94A3B8" />
                                            </TextBlock>
                                            <TextBlock Grid.Column="1" FontSize="13" FontWeight="Bold" Foreground="#1E293B">
                                                <Run Text="{Binding CritCount, StringFormat={}{0:N0}, RelativeSource={RelativeSource TemplatedParent}}" />
                                                <Run Text=" (" Foreground="#64748B" />
                                                <Run Text="{Binding CritRate, StringFormat={}{0:P1}, RelativeSource={RelativeSource TemplatedParent}}" Foreground="#34D399" />
                                                <Run Text=")" Foreground="#64748B" />
                                            </TextBlock>
                                        </Grid>
                                        <Grid Grid.Row="1" Height="8">
                                            <Border Background="#F1F5F9" CornerRadius="4" />
                                            <Border Background="#34D399" CornerRadius="4" HorizontalAlignment="Left">
                                                <Border.Width>
                                                    <MultiBinding Converter="{StaticResource RateToWidthConverter}">
                                                        <Binding Path="CritRate" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=Grid, AncestorLevel=1}" />
                                                    </MultiBinding>
                                                </Border.Width>
                                            </Border>
                                        </Grid>
                                    </Grid>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#64748B">
                                                <Run Text="{lex:Loc Key=Common_HitType_Normal}" />
                                                <Run Text=" (" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text="{lex:Loc Key=Common_HitType_Normal}" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text=")" FontSize="12" Foreground="#94A3B8" />
                                            </TextBlock>
                                            <TextBlock Grid.Column="1" FontSize="13" FontWeight="Bold" Foreground="#1E293B">
                                                <Run Text="{Binding NormalCount, StringFormat={}{0:N0}, RelativeSource={RelativeSource TemplatedParent}}" />
                                                <Run Text=" (" Foreground="#64748B" />
                                                <Run Text="{Binding NormalRate, StringFormat={}{0:P1}, RelativeSource={RelativeSource TemplatedParent}}" Foreground="#3B82F6" />
                                                <Run Text=")" Foreground="#64748B" />
                                            </TextBlock>
                                        </Grid>
                                        <Grid Grid.Row="1" Height="8">
                                            <Border Background="#F1F5F9" CornerRadius="4" />
                                            <Border Background="#3B82F6" CornerRadius="4" HorizontalAlignment="Left">
                                                <Border.Width>
                                                    <MultiBinding Converter="{StaticResource RateToWidthConverter}">
                                                        <Binding Path="NormalRate" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=Grid, AncestorLevel=1}" />
                                                    </MultiBinding>
                                                </Border.Width>
                                            </Border>
                                        </Grid>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>